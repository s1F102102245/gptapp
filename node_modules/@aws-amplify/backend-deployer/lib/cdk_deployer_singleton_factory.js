import { CDKDeployer } from './cdk_deployer.js';
import { CdkErrorMapper } from './cdk_error_mapper.js';
import { BackendLocator } from '@aws-amplify/platform-core';
/**
 * Factory to create a backend deployer
 */
export class BackendDeployerFactory {
    static instance;
    /**
     * Returns a single instance of BackendDeployer
     */
    static getInstance = () => {
        if (!BackendDeployerFactory.instance) {
            BackendDeployerFactory.instance = new CDKDeployer(new CdkErrorMapper(), new BackendLocator());
        }
        return BackendDeployerFactory.instance;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrX2RlcGxveWVyX3NpbmdsZXRvbl9mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Nka19kZXBsb3llcl9zaW5nbGV0b25fZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDaEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQXVDNUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sc0JBQXNCO0lBQ3pCLE1BQU0sQ0FBQyxRQUFRLENBQThCO0lBRXJEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLFdBQVcsR0FBRyxHQUFvQixFQUFFO1FBQ3pDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUU7WUFDcEMsc0JBQXNCLENBQUMsUUFBUSxHQUFHLElBQUksV0FBVyxDQUMvQyxJQUFJLGNBQWMsRUFBRSxFQUNwQixJQUFJLGNBQWMsRUFBRSxDQUNyQixDQUFDO1NBQ0g7UUFDRCxPQUFPLHNCQUFzQixDQUFDLFFBQVEsQ0FBQztJQUN6QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWNrZW5kSWRlbnRpZmllciwgRGVwbG95bWVudFR5cGUgfSBmcm9tICdAYXdzLWFtcGxpZnkvcGx1Z2luLXR5cGVzJztcbmltcG9ydCB7IENES0RlcGxveWVyIH0gZnJvbSAnLi9jZGtfZGVwbG95ZXIuanMnO1xuaW1wb3J0IHsgQ2RrRXJyb3JNYXBwZXIgfSBmcm9tICcuL2Nka19lcnJvcl9tYXBwZXIuanMnO1xuaW1wb3J0IHsgQmFja2VuZExvY2F0b3IgfSBmcm9tICdAYXdzLWFtcGxpZnkvcGxhdGZvcm0tY29yZSc7XG5cbmV4cG9ydCB0eXBlIERlcGxveVByb3BzID0ge1xuICBkZXBsb3ltZW50VHlwZT86IERlcGxveW1lbnRUeXBlO1xuICBzZWNyZXRMYXN0VXBkYXRlZD86IERhdGU7XG4gIHZhbGlkYXRlQXBwU291cmNlcz86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBEZXBsb3lSZXN1bHQgPSB7XG4gIGRlcGxveW1lbnRUaW1lczogRGVwbG95bWVudFRpbWVzO1xufTtcblxuZXhwb3J0IHR5cGUgRGVzdHJveVByb3BzID0ge1xuICBkZXBsb3ltZW50VHlwZT86IERlcGxveW1lbnRUeXBlO1xufTtcblxuZXhwb3J0IHR5cGUgRGVzdHJveVJlc3VsdCA9IHtcbiAgZGVwbG95bWVudFRpbWVzOiBEZXBsb3ltZW50VGltZXM7XG59O1xuXG5leHBvcnQgdHlwZSBEZXBsb3ltZW50VGltZXMgPSB7XG4gIHN5bnRoZXNpc1RpbWU/OiBudW1iZXI7XG4gIHRvdGFsVGltZT86IG51bWJlcjtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhbiBpbnZva2FibGUgY29tbWFuZFxuICovXG5leHBvcnQgdHlwZSBCYWNrZW5kRGVwbG95ZXIgPSB7XG4gIGRlcGxveTogKFxuICAgIGJhY2tlbmRJZD86IEJhY2tlbmRJZGVudGlmaWVyLFxuICAgIGRlcGxveVByb3BzPzogRGVwbG95UHJvcHNcbiAgKSA9PiBQcm9taXNlPERlcGxveVJlc3VsdD47XG4gIGRlc3Ryb3k6IChcbiAgICBiYWNrZW5kSWQ/OiBCYWNrZW5kSWRlbnRpZmllcixcbiAgICBkZXN0cm95UHJvcHM/OiBEZXN0cm95UHJvcHNcbiAgKSA9PiBQcm9taXNlPERlc3Ryb3lSZXN1bHQ+O1xufTtcblxuLyoqXG4gKiBGYWN0b3J5IHRvIGNyZWF0ZSBhIGJhY2tlbmQgZGVwbG95ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEJhY2tlbmREZXBsb3llckZhY3Rvcnkge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQmFja2VuZERlcGxveWVyIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2luZ2xlIGluc3RhbmNlIG9mIEJhY2tlbmREZXBsb3llclxuICAgKi9cbiAgc3RhdGljIGdldEluc3RhbmNlID0gKCk6IEJhY2tlbmREZXBsb3llciA9PiB7XG4gICAgaWYgKCFCYWNrZW5kRGVwbG95ZXJGYWN0b3J5Lmluc3RhbmNlKSB7XG4gICAgICBCYWNrZW5kRGVwbG95ZXJGYWN0b3J5Lmluc3RhbmNlID0gbmV3IENES0RlcGxveWVyKFxuICAgICAgICBuZXcgQ2RrRXJyb3JNYXBwZXIoKSxcbiAgICAgICAgbmV3IEJhY2tlbmRMb2NhdG9yKClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBCYWNrZW5kRGVwbG95ZXJGYWN0b3J5Lmluc3RhbmNlO1xuICB9O1xufVxuIl19