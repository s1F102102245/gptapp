import { SSMServiceException } from '@aws-sdk/client-ssm';
/**
 * Secret Error.
 */
export class SecretError extends Error {
    cause;
    httpStatusCode;
    /**
     * Creates a secret error instance.
     */
    constructor(message, options) {
        super(message);
        this.name = 'SecretError';
        this.cause = options?.cause;
        this.httpStatusCode = options?.httpStatusCode;
    }
    /**
     * Creates a secret error from an SSM exception.
     */
    static fromSSMException = (ssmException) => {
        // the SSM error message is wrong/misleading, like 'UnknownError'. We will stringify the
        // whole err object instead.
        return new SecretError(JSON.stringify(ssmException), {
            cause: ssmException,
            httpStatusCode: ssmException.$metadata.httpStatusCode,
        });
    };
    /**
     * Creates a secret error from an underlying cause.
     */
    static createInstance = (cause) => {
        if (cause instanceof SSMServiceException) {
            return SecretError.fromSSMException(cause);
        }
        return new SecretError(cause.message, { cause });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0X2Vycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlY3JldF9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUxRDs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUM3QixLQUFLLENBQVM7SUFDZCxjQUFjLENBQVU7SUFFL0I7O09BRUc7SUFDSCxZQUNFLE9BQWUsRUFDZixPQUdDO1FBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEVBQUUsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxFQUFFLGNBQWMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsQ0FDaEMsWUFBaUMsRUFDcEIsRUFBRTtRQUNmLHdGQUF3RjtRQUN4Riw0QkFBNEI7UUFDNUIsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ25ELEtBQUssRUFBRSxZQUFZO1lBQ25CLGNBQWMsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLGNBQWM7U0FDdEQsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUY7O09BRUc7SUFDSCxNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBWSxFQUFlLEVBQUU7UUFDcEQsSUFBSSxLQUFLLFlBQVksbUJBQW1CLEVBQUU7WUFDeEMsT0FBTyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNTTVNlcnZpY2VFeGNlcHRpb24gfSBmcm9tICdAYXdzLXNkay9jbGllbnQtc3NtJztcblxuLyoqXG4gKiBTZWNyZXQgRXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWNyZXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIGNhdXNlPzogRXJyb3I7XG4gIHB1YmxpYyBodHRwU3RhdHVzQ29kZT86IG51bWJlcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNlY3JldCBlcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgY2F1c2U/OiBFcnJvcjtcbiAgICAgIGh0dHBTdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIH1cbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1NlY3JldEVycm9yJztcbiAgICB0aGlzLmNhdXNlID0gb3B0aW9ucz8uY2F1c2U7XG4gICAgdGhpcy5odHRwU3RhdHVzQ29kZSA9IG9wdGlvbnM/Lmh0dHBTdGF0dXNDb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZWNyZXQgZXJyb3IgZnJvbSBhbiBTU00gZXhjZXB0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZnJvbVNTTUV4Y2VwdGlvbiA9IChcbiAgICBzc21FeGNlcHRpb246IFNTTVNlcnZpY2VFeGNlcHRpb25cbiAgKTogU2VjcmV0RXJyb3IgPT4ge1xuICAgIC8vIHRoZSBTU00gZXJyb3IgbWVzc2FnZSBpcyB3cm9uZy9taXNsZWFkaW5nLCBsaWtlICdVbmtub3duRXJyb3InLiBXZSB3aWxsIHN0cmluZ2lmeSB0aGVcbiAgICAvLyB3aG9sZSBlcnIgb2JqZWN0IGluc3RlYWQuXG4gICAgcmV0dXJuIG5ldyBTZWNyZXRFcnJvcihKU09OLnN0cmluZ2lmeShzc21FeGNlcHRpb24pLCB7XG4gICAgICBjYXVzZTogc3NtRXhjZXB0aW9uLFxuICAgICAgaHR0cFN0YXR1c0NvZGU6IHNzbUV4Y2VwdGlvbi4kbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGUsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZWNyZXQgZXJyb3IgZnJvbSBhbiB1bmRlcmx5aW5nIGNhdXNlLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlID0gKGNhdXNlOiBFcnJvcik6IFNlY3JldEVycm9yID0+IHtcbiAgICBpZiAoY2F1c2UgaW5zdGFuY2VvZiBTU01TZXJ2aWNlRXhjZXB0aW9uKSB7XG4gICAgICByZXR1cm4gU2VjcmV0RXJyb3IuZnJvbVNTTUV4Y2VwdGlvbihjYXVzZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2VjcmV0RXJyb3IoY2F1c2UubWVzc2FnZSwgeyBjYXVzZSB9KTtcbiAgfTtcbn1cbiJdfQ==