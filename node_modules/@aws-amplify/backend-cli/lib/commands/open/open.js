import opn from 'open';
import { Printer } from '@aws-amplify/cli-core';
/**
 * Helper class to open apps (URLs, files, executable). Cross-platform.
 */
export class Open {
    static open = async (target, options) => {
        let childProcess;
        try {
            childProcess = await opn(target, options);
            childProcess.on('error', (e) => this.handleOpenError(e, target));
        }
        catch (e) {
            this.handleOpenError(e, target);
            return;
        }
        return childProcess;
    };
    static handleOpenError = (err, target) => {
        Printer.print(`Unable to open ${target}: ${err.message}`);
        if ('code' in err && err['code'] === 'ENOENT') {
            Printer.print('Have you installed `xdg-utils` on your machine?');
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Blbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9vcGVuL29wZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sTUFBTSxDQUFDO0FBRXZCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUVoRDs7R0FFRztBQUNILE1BQU0sT0FBTyxJQUFJO0lBQ2YsTUFBTSxDQUFDLElBQUksR0FBRyxLQUFLLEVBQ2pCLE1BQWMsRUFDZCxPQUFvQixFQUNVLEVBQUU7UUFDaEMsSUFBSSxZQUEwQixDQUFDO1FBQy9CLElBQUk7WUFDRixZQUFZLEdBQUcsTUFBTSxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzFDLFlBQVksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ2xFO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixJQUFJLENBQUMsZUFBZSxDQUFDLENBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUN6QyxPQUFPO1NBQ1I7UUFDRCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDLENBQUM7SUFFRixNQUFNLENBQUMsZUFBZSxHQUFHLENBQUMsR0FBVSxFQUFFLE1BQWMsRUFBRSxFQUFFO1FBQ3RELE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLE1BQU0sS0FBSyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUMxRCxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsRUFBRTtZQUM3QyxPQUFPLENBQUMsS0FBSyxDQUFDLGlEQUFpRCxDQUFDLENBQUM7U0FDbEU7SUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb3BuIGZyb20gJ29wZW4nO1xuaW1wb3J0IHsgQ2hpbGRQcm9jZXNzIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBQcmludGVyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NsaS1jb3JlJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gb3BlbiBhcHBzIChVUkxzLCBmaWxlcywgZXhlY3V0YWJsZSkuIENyb3NzLXBsYXRmb3JtLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbiB7XG4gIHN0YXRpYyBvcGVuID0gYXN5bmMgKFxuICAgIHRhcmdldDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IG9wbi5PcHRpb25zXG4gICk6IFByb21pc2U8Q2hpbGRQcm9jZXNzIHwgdm9pZD4gPT4ge1xuICAgIGxldCBjaGlsZFByb2Nlc3M6IENoaWxkUHJvY2VzcztcbiAgICB0cnkge1xuICAgICAgY2hpbGRQcm9jZXNzID0gYXdhaXQgb3BuKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgICBjaGlsZFByb2Nlc3Mub24oJ2Vycm9yJywgKGUpID0+IHRoaXMuaGFuZGxlT3BlbkVycm9yKGUsIHRhcmdldCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuaGFuZGxlT3BlbkVycm9yKGUgYXMgRXJyb3IsIHRhcmdldCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBjaGlsZFByb2Nlc3M7XG4gIH07XG5cbiAgc3RhdGljIGhhbmRsZU9wZW5FcnJvciA9IChlcnI6IEVycm9yLCB0YXJnZXQ6IHN0cmluZykgPT4ge1xuICAgIFByaW50ZXIucHJpbnQoYFVuYWJsZSB0byBvcGVuICR7dGFyZ2V0fTogJHtlcnIubWVzc2FnZX1gKTtcbiAgICBpZiAoJ2NvZGUnIGluIGVyciAmJiBlcnJbJ2NvZGUnXSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIFByaW50ZXIucHJpbnQoJ0hhdmUgeW91IGluc3RhbGxlZCBgeGRnLXV0aWxzYCBvbiB5b3VyIG1hY2hpbmU/Jyk7XG4gICAgfVxuICB9O1xufVxuIl19