import { generateStatements } from '@aws-amplify/graphql-generator';
/**
 * Generates GraphQL documents for a given AppSync API
 */
export class AppSyncGraphqlDocumentGenerator {
    fetchSchema;
    resultBuilder;
    /**
     * Configures the AppSyncGraphqlDocumentGenerator
     */
    constructor(fetchSchema, resultBuilder) {
        this.fetchSchema = fetchSchema;
        this.resultBuilder = resultBuilder;
    }
    generateModels = async ({ language, maxDepth, typenameIntrospection, relativeTypesPath, }) => {
        const schema = await this.fetchSchema();
        if (!schema) {
            throw new Error('Invalid schema');
        }
        const generatedStatements = generateStatements({
            schema,
            target: language,
            maxDepth,
            typenameIntrospection,
            relativeTypesPath,
        });
        return this.resultBuilder(generatedStatements);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhxbF9kb2N1bWVudF9nZW5lcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZ3JhcGhxbF9kb2N1bWVudF9nZW5lcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFPcEU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sK0JBQStCO0lBT2hDO0lBQ0E7SUFMVjs7T0FFRztJQUNILFlBQ1UsV0FBa0MsRUFDbEMsYUFBb0U7UUFEcEUsZ0JBQVcsR0FBWCxXQUFXLENBQXVCO1FBQ2xDLGtCQUFhLEdBQWIsYUFBYSxDQUF1RDtJQUMzRSxDQUFDO0lBQ0osY0FBYyxHQUFHLEtBQUssRUFBRSxFQUN0QixRQUFRLEVBQ1IsUUFBUSxFQUNSLHFCQUFxQixFQUNyQixpQkFBaUIsR0FDWSxFQUFFLEVBQUU7UUFDakMsTUFBTSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFeEMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNYLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUNuQztRQUVELE1BQU0sbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7WUFDN0MsTUFBTTtZQUNOLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLFFBQVE7WUFDUixxQkFBcUI7WUFDckIsaUJBQWlCO1NBQ2xCLENBQUMsQ0FBQztRQUVILE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQztDQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVTdGF0ZW1lbnRzIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2dyYXBocWwtZ2VuZXJhdG9yJztcbmltcG9ydCB7XG4gIERvY3VtZW50R2VuZXJhdGlvblBhcmFtZXRlcnMsXG4gIEdlbmVyYXRpb25SZXN1bHQsXG4gIEdyYXBocWxEb2N1bWVudEdlbmVyYXRvcixcbn0gZnJvbSAnLi9tb2RlbF9nZW5lcmF0b3IuanMnO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBHcmFwaFFMIGRvY3VtZW50cyBmb3IgYSBnaXZlbiBBcHBTeW5jIEFQSVxuICovXG5leHBvcnQgY2xhc3MgQXBwU3luY0dyYXBocWxEb2N1bWVudEdlbmVyYXRvclxuICBpbXBsZW1lbnRzIEdyYXBocWxEb2N1bWVudEdlbmVyYXRvclxue1xuICAvKipcbiAgICogQ29uZmlndXJlcyB0aGUgQXBwU3luY0dyYXBocWxEb2N1bWVudEdlbmVyYXRvclxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBmZXRjaFNjaGVtYTogKCkgPT4gUHJvbWlzZTxzdHJpbmc+LFxuICAgIHByaXZhdGUgcmVzdWx0QnVpbGRlcjogKGZpbGVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pID0+IEdlbmVyYXRpb25SZXN1bHRcbiAgKSB7fVxuICBnZW5lcmF0ZU1vZGVscyA9IGFzeW5jICh7XG4gICAgbGFuZ3VhZ2UsXG4gICAgbWF4RGVwdGgsXG4gICAgdHlwZW5hbWVJbnRyb3NwZWN0aW9uLFxuICAgIHJlbGF0aXZlVHlwZXNQYXRoLFxuICB9OiBEb2N1bWVudEdlbmVyYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gYXdhaXQgdGhpcy5mZXRjaFNjaGVtYSgpO1xuXG4gICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzY2hlbWEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZW5lcmF0ZWRTdGF0ZW1lbnRzID0gZ2VuZXJhdGVTdGF0ZW1lbnRzKHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIHRhcmdldDogbGFuZ3VhZ2UsXG4gICAgICBtYXhEZXB0aCxcbiAgICAgIHR5cGVuYW1lSW50cm9zcGVjdGlvbixcbiAgICAgIHJlbGF0aXZlVHlwZXNQYXRoLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucmVzdWx0QnVpbGRlcihnZW5lcmF0ZWRTdGF0ZW1lbnRzKTtcbiAgfTtcbn1cbiJdfQ==